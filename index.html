<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>How did it come to this?</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
        html,body{height:100%;margin:0;background:#000}
        body{display:flex;align-items:center;justify-content:center;outline:none}
        img{
            margin:50px;
            box-sizing:border-box;
            max-width:calc(100vw - 100px);
            max-height:calc(100vh - 100px);
            -webkit-user-drag:none;
            user-select:none;
        }
        body.idle *{cursor:none}

        /* show pointer when hovering over the image (also overrides hidden cursor) */
        img:hover,
        body.idle img:hover { cursor: pointer; }
    </style>
</head>
<body tabindex="0">
    <img id="pageImage" src="" alt="Page scan">
    <script>
        const PAGE_COUNT = 22; // change if you have more/less pages
        const pages = Array.from({length: PAGE_COUNT}, (_, i) => `Assets/page-${String(i).padStart(2,'0')}.jpg`);
        let current = 0;
        const img = document.getElementById('pageImage');
        const wrap = false; // set true to loop from last->first and first->last

        const showPage = () => img.src = pages[current];

        const prevPage = () => {
            if (current > 0) current--;
            else if (wrap) current = pages.length - 1;
            showPage();
        };

        const nextPage = () => {
            if (current < pages.length - 1) current++;
            else if (wrap) current = 0;
            showPage();
        };

        window.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') { e.preventDefault(); prevPage(); }
            else if (e.key === 'ArrowRight') { e.preventDefault(); nextPage(); }
        });

        const handlePointerNavigation = (clientX) => {
            const half = window.innerWidth / 2;
            clientX < half ? prevPage() : nextPage();
        };

        window.addEventListener('click', (e) => {
            if (e.button !== 0) return;
            handlePointerNavigation(e.clientX);
        });

        window.addEventListener('touchend', (e) => {
            const t = e.changedTouches?.[0];
            if (t) handlePointerNavigation(t.clientX);
        }, {passive:true});

        window.addEventListener('load', () => {
            showPage();
            window.focus();
            // optional: hide cursor after inactivity
            let t;
            const idleClass = 'idle';
            const resetIdle = () => {
                document.body.classList.remove(idleClass);
                clearTimeout(t);
                t = setTimeout(() => document.body.classList.add(idleClass), 1500);
            };
            document.addEventListener('mousemove', resetIdle, {passive:true});
            resetIdle();
        });
    </script>
</body>
</html>